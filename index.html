<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NBNU/SIINB Signature Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;600;700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{--blue:#4A9EFF;--ink:#1a1a1a;--gray:#707070;--panel:#EEF1F5}
    body{margin:0;background:#f7f7f8;font-family:Poppins,Arial,sans-serif;color:#222}
    .wrap{max-width:960px;margin:32px auto;padding:16px}
    .card{background:#fff;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.06);padding:24px}
    h1{font-family:Archivo,Arial,sans-serif;font-size:22px;margin:0 0 12px;color:#0D1B3E}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    label{font-weight:600;font-size:13px;color:#0D1B3E}
    input{width:100%;padding:10px 12px;border:1px solid #d9d9df;border-radius:8px;font-size:14px}
    .actions{margin-top:14px;display:flex;gap:10px}
    button{appearance:none;border:0;border-radius:10px;padding:10px 14px;font-weight:600;cursor:pointer}
    .primary{background:var(--blue);color:#fff}
    .ghost{background:#fff;border:1px solid #d9d9df;color:#0D1B3E}
    .primary:hover{background:#3a8eef}
    .ghost:hover{background:#f5f5f5}
    #preview{margin-top:24px;border:1px solid #e6e6ec;border-radius:12px;background:#fff;padding:22px;min-height:100px}
    .sig-canvas{max-width:750px}
    .note{margin-top:16px;background:#fff;border:1px dashed #d9d9df;border-radius:10px;padding:16px;font-size:13px;color:#444;line-height:1.6}
    .note b{color:#0D1B3E;font-size:14px}
    .note ol{margin:8px 0;padding-left:20px}
    .note li{margin:6px 0}
    .note a{color:var(--blue);text-decoration:none}
    .note a:hover{text-decoration:underline}
    .toast{position:fixed;top:20px;right:20px;background:#10b981;color:#fff;padding:12px 20px;border-radius:8px;font-weight:600;opacity:0;transition:opacity 0.3s;z-index:1000}
    .toast.show{opacity:1}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>NBNU | SIINB Signature Generator</h1>
      <p>Fill in the fields. Click <b>Preview</b>, then <b>Copy Signature</b>.</p>

      <div class="grid">
        <div>
          <label for="name">[First Name Last Name]</label>
          <input id="name" placeholder="e.g., Madison Guay" />
        </div>
        <div>
          <label for="pronouns">[(pronoun)]</label>
          <input id="pronouns" placeholder="e.g., she/her (optional)" />
        </div>
        <div>
          <label for="title">[Title English / Title French]</label>
          <input id="title" placeholder="e.g., Administrative Assistant / Assistante Administrative" />
        </div>
        <div>
          <label for="tel">[000.000.0000] ‚Äî Tel/t√©l</label>
          <input id="tel" placeholder="e.g., 506.555.1234" />
        </div>
        <div>
          <label for="cell">[000.000.0000] ‚Äî Cell/cel (optional)</label>
          <input id="cell" placeholder="e.g., 506.555.5678 (optional)" />
        </div>
      </div>

      <div class="actions">
        <button class="primary" id="btnPreview">Preview</button>
        <button class="ghost" id="btnCopy">Copy Signature</button>
        <button class="ghost" id="btnReset">Reset</button>
      </div>

      <p>Follow the instructions below to install your signature.</p>

      <div id="preview" class="sig-canvas">
        <!-- Live signature preview renders here -->
      </div>

      <div class="note">
        <b>How to Add Your New NBNU | SIINB Email Signature</b><br><br>
        <b>For Outlook on the web or the "new" Outlook (Windows or Mac):</b>
        <ol>
          <li>Open Outlook.</li>
          <li>Go to ‚öôÔ∏è Settings ‚Üí Accounts ‚Üí Signatures, or click this link to open the page directly: üîó <a href="https://outlook.office.com/mail/options/accounts-category/signatures-subcategory" target="_blank">https://outlook.office.com/mail/options/accounts-category/signatures-subcategory</a></li>
          <li>Paste your new signature into the Email Signature box.</li>
          <li>Choose to automatically include it in new messages and replies/forwards.</li>
          <li>Click Save.</li>
        </ol>
        <b>For the classic Outlook desktop app:</b>
        <ol>
          <li>Go to File ‚Üí Options ‚Üí Mail ‚Üí Signatures.</li>
          <li>Click New, name your signature, and paste the copied design.</li>
          <li>Set it as the default for new and/or reply messages.</li>
          <li>Click OK to save.</li>
        </ol>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script>
    const BLUE = '#4A9EFF';
    const LOGO = 'https://raw.githubusercontent.com/nbnusiinb/nbnu-signature-assets/refs/heads/main/Assets/png/NBNU-Logo.png';
    const FB   = 'https://raw.githubusercontent.com/nbnusiinb/nbnu-signature-assets/refs/heads/main/Assets/png/NBNU-Email-Icon-Facebook.png';
    const IG   = 'https://raw.githubusercontent.com/nbnusiinb/nbnu-signature-assets/refs/heads/main/Assets/png/NBNU-Email-Icon-Instagram.png';

    function escapeHTML(s) {
      if (!s) return '';
      return s.replace(/[&<>"']/g, function(m) {
        return {
          '&': '&amp;',
          '<': '&lt;',
          '>': '&gt;',
          '"': '&quot;',
          "'": '&#39;'
        }[m];
      });
    }

    function sigHTML(fields) {
      const name = fields.name?.trim() || '[First Name Last Name]';
      const pron = fields.pronouns?.trim();
      const pronText = pron ? ` <span style="font-family: 'Poppins', Arial, sans-serif; font-weight: 400; font-size: 18px; color: #000000; letter-spacing: 0;">(${escapeHTML(pron)})</span>` : '';
      const title = fields.title?.trim() || '[Title English / Title French]';
      const tel = fields.tel?.trim() || '[000.000.0000]';
      const cell = fields.cell?.trim();
      const fax = '506.453.0828';

      // Build contact line with optional cell - FIXED: Using &nbsp; instead of margins
      let contactLine = `<span style="font-weight: 400;">Tel/t√©l:</span> <span style="font-weight: 500;">${escapeHTML(tel)}</span>`;
      
      if (cell && cell !== '[000.000.0000]') {
        contactLine += `&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;<span style="font-weight: 400;">Cell/cel:</span> <span style="font-weight: 500;">${escapeHTML(cell)}</span>`;
      }
      
      contactLine += `&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;<span style="font-weight: 400;">Fax/t√©l√©c:</span> <span style="font-weight: 500;">${fax}</span>`;

      return `
<table cellpadding="0" cellspacing="0" border="0" style="max-width: 750px; font-family: 'Poppins', Arial, sans-serif; font-size: 14px; color: #1a1a1a; line-height: 1.5;">
  <tr>
    <td style="padding-bottom: 8px;">
      <div style="font-family: 'Archivo', Arial, sans-serif; font-weight: 700; font-size: 32px; color: ${BLUE}; margin-bottom: 5px; letter-spacing: -0.5px; line-height: 1.1;">
        ${escapeHTML(name)}${pronText}
      </div>
      <div style="font-family: 'Poppins', Arial, sans-serif; font-size: 16px; color: #000000; margin-bottom: 10px; font-weight: 400; line-height: 1.3;">
        ${escapeHTML(title)}
      </div>
    </td>
  </tr>
  <tr>
    <td style="padding-bottom: 12px;">
      <div style="width: 100%; height: 3px; background-color: ${BLUE};"></div>
    </td>
  </tr>
  <tr>
    <td style="padding-bottom: 20px;">
      <div style="font-family: 'Poppins', Arial, sans-serif; font-size: 14px; color: #000000; line-height: 1.4;">
        ${contactLine}
      </div>
    </td>
  </tr>
  <tr>
    <td style="padding-bottom: 20px;">
      <table cellpadding="0" cellspacing="0" border="0" width="100%">
        <tr>
          <td style="vertical-align: middle; width: auto;">
            <img src="${LOGO}" alt="NBNU SIINB Logo" style="height: 52px; display: block; border: none;" />
          </td>
          <td style="vertical-align: middle; text-align: left; padding-left: 25px;">
            <a href="https://www.facebook.com/NBNursesUnion/" style="text-decoration: none; margin-right: 12px; display: inline-block; vertical-align: middle;">
              <img src="${FB}" alt="Facebook" style="width: 36px; height: 36px; display: block; border: none;" />
            </a>
            <a href="https://www.instagram.com/nbnu_siinb/" style="text-decoration: none; display: inline-block; vertical-align: middle;">
              <img src="${IG}" alt="Instagram" style="width: 36px; height: 36px; display: block; border: none;" />
            </a>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <td style="padding: 18px 20px; background-color: #EEF1F5; border-radius: 4px;">
      <div style="font-family: 'Poppins', Arial, sans-serif; font-size: 11px; color: #707070; line-height: 1.6; margin-bottom: 12px;">
        <strong style="font-family: 'Archivo', Arial, sans-serif; color: #707070; font-size: 12px; font-weight: 600;">Land Acknowledgement / Reconnaissance territoriale:</strong><br>
        <span style="font-weight: 400; font-style: italic;">NBNU acknowledges with gratitude that we, and our members, work on the traditional, ancestral, and unceded territory of the Peskotomuhkati, Wolastoqiyik, and Mi'kmaq Peoples who care for and nurture these lands and have from time immemorial. We further acknowledge the pervasive and ongoing harms of colonialism faced by Indigenous peoples. These harms include those described in the Truth and Reconciliation Commission's 94 calls to action and the Final Report of the National Inquiry into Missing and Murdered Indigenous Women and Girls' 231 calls to justice.</span>
      </div>
      <div style="font-family: 'Poppins', Arial, sans-serif; font-size: 11px; color: #707070; line-height: 1.6;">
        <span style="font-weight: 400; font-style: italic;">Le SIINB reconna√Æt avec gratitude que nous, ainsi que nos membres, travaillons sur le territoire traditionnel, ancestral et non c√©d√© des peuples Peskotomuhkati, Wolastoqiyik et Mi'gmaq, qui prennent soin de ces terres et les prot√®gent depuis des temps imm√©moriaux. Nous reconnaissons √©galement les torts profonds et persistants du colonialisme subis par les peuples autochtones. Ces torts incluent ceux d√©crits dans les 94 appels √† l'action de la Commission de v√©rit√© et r√©conciliation, ainsi que dans les 231 appels √† la justice du rapport final de l'Enqu√™te nationale sur les femmes et les filles autochtones disparues et assassin√©es.</span>
      </div>
    </td>
  </tr>
  <tr><td style="padding-top: 15px;"></td></tr>
  <tr>
    <td style="padding: 18px 20px; background-color: transparent;">
      <div style="font-family: 'Poppins', Arial, sans-serif; font-size: 10px; color: #707070; line-height: 1.6; margin-bottom: 10px;">
        <strong style="font-family: 'Archivo', Arial, sans-serif; color: #707070; font-size: 11px; font-weight: 600;">Confidentiality Disclaimer / Avis de confidentialit√©:</strong><br>
        <span style="font-weight: 400; font-style: italic;">This email (including attachments, if any) contains information intended for the person(s) named, is confidential, and may be privileged. Any other distribution, copying or disclosure is strictly prohibited and does not constitute waiver of privilege. If you have received this email in error, please notify us immediately at the telephone number above or reply by email to the sender, and delete all copies of this message (and attachments, if any) from your computer system and records.</span>
      </div>
      <div style="font-family: 'Poppins', Arial, sans-serif; font-size: 10px; color: #707070; line-height: 1.6;">
        <span style="font-weight: 400; font-style: italic;">Le pr√©sent courriel (et les pi√®ces jointes) contient des renseignements confidentiels r√©serv√©s √† l'usage de la ou des personnes identifi√©es comme destinataires. La distribution, reproduction ou diffusion de ce courriel est strictement interdite et n'emporte pas renonciation au privil√®ge. Si ce courriel vous a √©t√© adress√© par erreur, veuillez nous en aviser imm√©diatement par t√©l√©phone au num√©ro ci-dessus ou r√©pondre par courriel √† l'exp√©diteur ou l'exp√©ditrice, et supprimer toutes les copies du message (et des pi√®ces jointes) de votre syst√®me informatique et de vos dossiers.</span>
      </div>
    </td>
  </tr>
</table>`;
    }

    function getFields() {
      return {
        name: document.getElementById('name').value,
        pronouns: document.getElementById('pronouns').value,
        title: document.getElementById('title').value,
        tel: document.getElementById('tel').value,
        cell: document.getElementById('cell').value
      };
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // Preview button
    document.getElementById('btnPreview').addEventListener('click', function() {
      const fields = getFields();
      document.getElementById('preview').innerHTML = sigHTML(fields);
    });

    // Copy button
    document.getElementById('btnCopy').addEventListener('click', async function() {
      const fields = getFields();
      const html = sigHTML(fields);
      
      try {
        // Create a temporary container
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = html;
        document.body.appendChild(tempDiv);

        // Select the content
        const range = document.createRange();
        range.selectNodeContents(tempDiv);
        const selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);

        // Copy to clipboard
        document.execCommand('copy');
        
        // Clean up
        selection.removeAllRanges();
        document.body.removeChild(tempDiv);

        showToast('‚úì Signature copied to clipboard!');
      } catch (err) {
        console.error('Copy failed:', err);
        showToast('‚ö† Copy failed. Please try Preview first.');
      }
    });

    // Reset button
    document.getElementById('btnReset').addEventListener('click', function() {
      document.getElementById('name').value = '';
      document.getElementById('pronouns').value = '';
      document.getElementById('title').value = '';
      document.getElementById('tel').value = '';
      document.getElementById('cell').value = '';
      document.getElementById('preview').innerHTML = '';
      showToast('‚úì Form reset');
    });

    // Auto-preview on initial load
    window.addEventListener('DOMContentLoaded', function() {
      const fields = getFields();
      document.getElementById('preview').innerHTML = sigHTML(fields);
    });
  </script>
</body>
</html>
